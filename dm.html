<html>
  <head>
    <meta charset="UTF-8">
    <script src="https://www.gstatic.com/firebasejs/5.11.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.11.0/firebase-firestore.js"></script>
    <script src="firebase.js"></script>
  </head>
  <body>
    <div id="app">
      <ul>
        <li v-for="unit in units" key="unit.key">
          <input type="checkbox" v-model="unit.visible">
          <input v-model="unit.name">
        </li>
      </ul>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script>
      var vm = new Vue({
        el: '#app',
        data: {
          units: [],
          a: 1,
        },
        created() {
          db.collection('units').get().then((snapshot) => {
            snapshot.forEach((doc) => {
              const key = doc.id;
              let {type, visible, x, y, name, hp, damage} = doc.data();
              console.log(this);
              this.units.push({key, type, visible, x, y, name, hp, damage});
            });
          });
        },
      });
    </script>
  </body>
</html>
